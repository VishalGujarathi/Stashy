{"ts":1369910948338,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"(function (Stashy, $, undefined) {\n    \"use strict\";    \n    var offcanvas = (function () {\n\n        function offcanvas(sltor, useropt) {     \n            \n            var element = $(((sltor || \"\") + \".st-offcanvas\") || \".st-offcanvas\");\n            \n            if (element[0] == undefined || element.data(\"st-offcanvas\") == true) {\n                return false;\n            }\n            \n            this.element = element;\n\n            this.showmenuselector = this.element.find(\".showmenubutton\");\n            this.showadditionalselector = this.element.find(\".showadditionalbutton\");\n            this.menu = this.element.find(\".st-offcanvas-menu\");\n            this.main = this.element.find(\".st-offcanvas-main\");\n            this.additional = this.element.find(\".st-offcanvas-additional\");\n            this.element.data(\"st-offcanvas\", true);\n            this.enabled = false;\n            this.options = {     \n                onMobileLayout : $.noop,\n                onTabletLayout : $.noop,\n                onDesktopLayout : $.noop,\n\t\t\t\tuseTransitions : true,\n                closeOnClickOutside : true \n            \n            };\n            $.extend(this.options || {}, useropt);\t\t\t\n        }\n\n        var onmobilelayout = function(self) {\n            self.showadditionalselector.css(\"visibility\",\"visible\");\n            self.showmenuselector.css(\"visibility\",\"visible\");\n        }\n\n        var ontabletlayout = function(self) {\n            self.showadditionalselector.css(\"visibility\",\"visible\");\n            self.showmenuselector.css(\"visibility\",\"hidden\");\n        }            \n\n        var ondesktoplayout = function(self) {\n            self.showadditionalselector.css(\"visibility\",\"hidden\");\n            self.showmenuselector.css(\"visibility\",\"hidden\");\n        }    \n            \n        var bindResize = function(self) {\n            var width = $(window).width();\n            if (width < 768) {\n                onmobilelayout(self);\n                self.options.onMobileLayout();\n            } else if (width >= 768 && width < 978) {\n                ontabletlayout(self);\n                self.options.onTabletLayout();\n            } else {\n                ondesktoplayout(self);\n                self.options.onDesktopLayout();\n            }\n        };\n\n        offcanvas.prototype.layout = function() {\n            if (this.element ==  null) return;\n            \n            var self = this;\n\t\t\t\n            $(\"html\").addClass(\"js\");\n            \n            this.showmenuselector.on(\"click\", function(event) {                \n               self.element.toggleClass(\"active-menu\");\n               event.stopPropagation();\n               return false;\n            });\n            this.showadditionalselector.on(\"click\", function(event) {\n                self.element.toggleClass(\"active-additional\");                \n                event.stopPropagation();\n                return false;\n            });\n            if (this.element.find(\".st-offcanvas-additional\").length == 0) {\n                this.element.addClass(\"no-additional\");\n            } \n            if (this.element.find(\".st-offcanvas-menu\").length == 0) {\n                this.element.addClass(\"no-menu\");\n            } \n            \n            if (this.options.closeOnClickOutside) {\n                var self = this;\n                this.element.on(\"click\", function() {\n                    self.close();                    \n                });\n            }\n                        \n            $(window).on(\"debouncedresize\", function() {\n                bindResize(self);\n                return false;\n            });\n\n            bindResize(self);\n            \n\t\t\tif (self.options.useTransitions) {\n\t\t\t\tthis.element.addClass(\"active-transitions\");\n\t\t\t}\n\t\t\t\n            this.enabled = true;\n            return this;\n        }\n\n        offcanvas.prototype.close = function() {\n            if (this.element ==  null) return;\n            \n            this.element.removeClass(\"active-menu active-additional\");\n        }\n        \n        return offcanvas;\n\n    })();\n    \n\tStashy.OffCanvas = function(sltor, options) {\n\t    return new offcanvas(sltor, options);\n\t}\n    \n})(window.Stashy || (window.Stashy = {}), jQuery)\n"]],"start1":0,"start2":0,"length1":0,"length2":4207}]],"length":4207}
